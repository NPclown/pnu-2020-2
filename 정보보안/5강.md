# 4장 공개키 암호
## 공개키 사용
### 공개키 사용 단게
- 사용자는 공개 키, 개인 키 한 쌍을 생성
- 두 키 중, 공개 키를 공개 장소에 등록
- 밥이 앨리스에게 메세지를 보내면 밥은 앨리스의 공개 키를 사용하여 암호화
- 앨리스는 밥의 메시지를 자신의 비밀 키로 복호화
- 개인 키는 앨리스만 가지므로 다른 사람들은 복호화가 불가능

### 공개 키 응용
- 일반 전송 데이터 암호화/복호화
- 키 (대칭 키) 교환 용도 (하이브리드 방식0
- 전자 (디지털) 서명
	- 송신자는 자신의 메시지에 개인 키로 서명, 수신자는 공개 키로 서명을 복호화
	- 자필 서명과 흡사하게, 누구나 공개 키로 서명 확인은 가능하지만 개인 키가 없으면 서명이 불가능

### 공개 키 생성
- **트랩도어**라고 불리는 단방향 함수를 기반
	- 한 방향은 계산하기 용이
	- 다른 방향은 계산하기가 난해
	- "트랩"은 키를 생산하기 위해 사용
	- 예 : 주어진 매우 큰 두 소수 p와 q에서 , N=pq인 N을 계산하기는 간단하나, 주어진 N에서 p와 q를 찾기는 매우 난해하다.

### 공개 키 기법들
- 배낭 암호
	- 공개키 암호의 첫 번째 제안
	- 현재는 안전하지 않은 것으로 판명
	- 이해하기가 쉬워 공개 키 개념 설명으로 많이 활용됨
- RSA
	- 큰 수들의 인수 분해를 활용
	- 가장 많이 활용되지만 큰 수에 대한 복잡한 연산 문제
- 디피-헬먼 키 교환
	- 대칭 키 교환 용도로 활용
	- 이산 로그 문제의 게산 난의도를 활용
- 타원곡선 암호
	- 공개 키 암호의 수학 연산의 방안, 연산 속도가 비교적 빠름

## 배낭 암호
### 배낭 (Knapsack) 암호
- n 개의 배낭에 담을 수 있는 무게 W0, W1, W2 .... 가 있을 때 , 요구 되는 총량 맞추기 위한 각 a(0,1)를 찾는 문제 
- 일반 배낭 문제는 NP-complete (2^n)

### 슈퍼 증가 배낭
- 일반 배낭 문제는 풀기가 어렵다 ( n이 클 경우)
- 슈퍼 증가 배낭은 상대적을 쉬운 문제
- 슈퍼 증가 배당의 정의
	- 각 무게는 이전 무게들의 총합보다 큼
- 선형적인 시간 내에 풀 수 있음

### 배낭 암호 시스템
- 암호 생성 단게
	1. 수퍼증가 배낭 (SIK) 을 생산
	2. 수퍼증가 배낭 (SIK) 을 일반 배낭 (GK) 으로 변환
- 공개키 : 일반 배낭
- 개인키 : 수퍼증가 배낭과 변환 인수들
- GK로 암호화는 용이
- 개인키로 복호화 용이 (암호문을 슈퍼증가 배낭으로 변환)
- 개인키 없이는 GK 문제를 푸는 것은 상 어려운 일

### 배낭 암호 약점
- 트랩도어 : 슈퍼증가 배낭을 모듈로 연산을 사용하여 "일반 배낭" 으로 변환
- 배낭 암호는 안전하지 못함 : 격자 줄이기 (lattice reduction) 이용
- 수학적을 볼 때, 슈퍼 증가 배낭에서 만들어진 "일반 배낭"의 (SIK -> GK 변환 방식의 보안성 문제)
- 즉, 이러한 배낭은 쉽게 풀릴 수 있음

## RSA
### RSA
- p와 q를 큰 소수라고 하자.
- N = pq 를 모듈로스 (modulus)
- (p-1)(q-1)에 서로소 인 e를 선정
- e*d = 1 mod (p-1)(q-1)를 만족하는 d로 선정

### RSA 암호화 / 복호화
- 공개키 : (N, e), 개인키 : d
- 메시지 M을 암호화
	- C = M^e mod N
- 암호문 C를 복호화
	- M = C^d mod N ( M^ed mod N = M^1 mod N )
- N과 e는 공개 키
	- e * d = 1 mod (p-1)(q-1) 이므로, 만약 공격자가 N을 인수 분해 할 수 있으면, e를 사용해 쉽게 d를 찾을 수 있음
	- 모듈로스의 인수분해는 RSA를 해독
	- 단, 인수분해만이 유일하게 RSA를 해독하는 방법인지는 알려지지 않았음

### RSA 암호화 분석
- 암호화 메시지 C = M^e mod N
	- M = C^d mod N = M^ed mod N     where M < N
- Euler's Theorem (오일러 정리) 사용
- ppt 20 페이지 참고

### 보다 효율적인 RSA
- 모듈로 지수 예쩨
- 개선된 방법 : 제곱의 반복
- 모듈로 연산의 중간 결과를 이용
- ppt 21 페이지 참고


