### AES (Advanced Encryption Standard)
- DES를 대치
-  반복되는 블록 암호 (DES와 동일)
-  페이스텔 방식의 암호가 아님 (DES와 상이)
-  고난도적인 수학적 구조를 가짐

### AES 개요
- 블록 크기 : 128,192,256 비트
- 키 길이 : 128,192,256 비트 (블록크기와는 독립적)
- 10에서 14 라운드 (키 길이에 따라)
- 각 라운드는 4개의 함수들을 사용 (3개 계층)
	- ByteSub (비선형 계층)
	- ShiftRow (선형혼합 계층)
	- MixColumn (비선형 계층)
	- AddRoundKey (키 추가 계층)

### AES ByteSub
- 192 비트 블록으로 가정 : 4 X 6바이트 행렬
- ByteSub는 DES의 "S-box"


### AES ShiftRow
- Cyclic shift rows
- 밑으로 내려 올수록 옆으로 한칸씩 밀림

### AES MixColumn
- 비선형의 역산 가능 연산 수행
- 시프트 연산과 XOR 연산으로 구성되며, 거대한 룩업 테이블로 구현 가능

### AES AddRoundKey
- 라운드키(보조키)는 키 스케줄 알고리즘에 의해 결정
- 블록과 보조키의 XOR
- AES의 키 스케줄에 대한 설명은 생략

### AES 복호화
- 복호화를 위해서, 진행과정은 역산이 가능해야만 함

### 세 가지 추가 블록 암호
- IDEA : 제임스 메세이가 개발, 64비트 블록, 128 비트 키를 사용
- Blowfish : 페이스텔 구조, 키에 의존하는 S 박스 사용
- RC6 : 로널드 리베스트가 개발, 연상이 데이터에 의존하는 방식, AES와 최후까지 경합

### TEA (Tiny Encryption Algorithm)
- 복잡하지 않지만, 강력한 보안성을 추구
- 64 비트 블록, 128 비트 키
- 32 비트 연산 컴퓨터를 가정
- 라운드의 수는 가변적 (32회 정도면 안전하다고 알려짐)
- 간단한 라운드 함수를 사용하므로 상대적으로 많은 횟수의 라운드 필요


### TEA 총평
- 페이스텔 암호 형태
	- XOR 대신에 + 와 - 사용
- 구축하기가 간단하고 쉬우며, 빠르고 작은 메모리를 요구
- 관련 키 공격이 가능
	- 상호 관련 있는 키 사용 시에 공격가능
	- 무시할 수 있을만한 확률이 낮은 공격
- 확장된 TEA (XTEA)
	- 관련 키 공격을 제거할 수 있음(약간 더 복잡)
- 단순화된 TEA (STEA)
	- 암호분석의 예제로 사용되는 안전하지 않은 버전

### 블록암호 모드
- 운용모드
	- 전자 코드북 (**ECB : Eletronic Code Book**) 모드
		- 각 블록을 동일 키로 독립적으로 암호화
		- 약점이 존재할 수 있음
	- 암호블록 연결 (**CBC : Cipher Block Chaining**) 모드
		- 블록을 체인처럼 함께 연결
		- ECB 모드 보다 안전, 실질적으로 많은 추가 작업 요구하지 않음
	- 카운트 (**CTR : CounTeR**) 모드
		- 스트림 암호처럼 작동
		- 임의 접근에 대중적으로 사용

### ECB 모드
- 표기 : C = E(P, K)
- 고정키 K에 대해 코드북 암호의 전자적 버전
	- 동일한 P에 대해서는 동일한 C가 생성

- ECB 복사-붙여넣기 공격

### CBC 모드
- 블록들은 함께 "체인" 으로 연결
- 임의 초기화 벡타(IV)가 CBC 모드 초기화를 위해 필요
- IV는 임의 값으로 키처럼 비밀로 할 필요 없음

- 같은 평문 블록도 다른 암호문 블록을 생산
- 복사-붙여넣기 공격이 거의 불가능
- 전송 등의 오류 영향이 발생할 수 있음 (단 두개의 블록에서만 오류 발생)

### Counter (CTR) 모드
- CTR은 임의접근이 필요할 경우, 많이 사용됨
- 스트림 암호의 키 스트림과 유사하게 키스트림을 블록 암호로 생성
- EBC도 임의 접근에서 사용가능, 단 CBC는 임의 접근 해독이 불가능

### 무결성
- 인가되지 않은 데이터의 수정을 방지 하거나 적어도 탐지 하는 것
- 예제 : 인터넷 은행에서 자금이동
	- 무결성은 심각한 문제를 발생시킬 수 있음
- 암호화는 비밀성을 제공
- 암호화 자체만으로 무결성을 확신할 수 없음. (일회성 암호와 ECB 공격을 상기)


### 메세지 인증 코드 (MAC : Message Authentication Code)
- 데이터 무결성을 위해 사용
- 무결성은 비밀성과 동일하지 않음
- MAC은 CBC의 나머지로 계산
	- compute CBC 암호화를 계산하여 암호문 블록의 마지막만 저장

	
### 비밀성과 무결성
- 비밀성과 무결성을 모두 요구하는 경우에는 서로 다른 두개의 키를 사용
	- 한 키로 암호화하고, 다른 키로 MAC 계산
- 왜 같은 키를 사용하지 않는가?
	- 마지막 암호화 블록 (MAC)을 두 번 전송?
	- 보안성을 추가할 수가 없음
- "한번의 암호화"로 비밀성과 무결성을 제공하는 확실한 방법은 없음
- CBC 이외 MAC을 생성하는 다른 방법으로 HMAC (Hashed MAC) 을 사용	
